<html>
  <body>
    <iframe id="existingIframe" src="http://localhost:8080/examples/child.html"></iframe>
    <script src="../dist/index.js"></script>
    <script>
      localStorage.debug = "*";
      (async () => {
        try {
          const iframe = document.getElementById('existingIframe')
          const iparent = new ibridge.Parent({
            target: iframe,
          });
          await iparent.handshake();
          const value = await iparent.get("vehicles.getCar", 123);
          console.log(value);

          const error = await iparent.get("getError").catch((err) => err);
          console.log(error)
        } catch (err) {
          console.error(err);
        }
      })();
    </script>
  </body>
</html>
